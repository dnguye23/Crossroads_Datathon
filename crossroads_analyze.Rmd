---
title: "Crossroads"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

# Ankur Additions

### LOAD LIBRARIES AND READING THE FILE

```{r}


# Load the libraries

library(tidyverse)
library(ggplot2)
library(plotly)
library(lubridate)
library(magrittr)
```
```{r}
# Set path and read the files

setwd("C:/Users/as8126/Ankur/MSDS/msds_git/Crossroads_Datathon")

#Read the data set
holidaylist <- read_csv('TCU_HolidayList.csv')
df_training <- read_csv('Training.csv')
df_training_sup <- read_csv('Training_SupplementalFields.csv')

```
### CLEANING UP THE DATA



```{r}
# Change - to 0s

df_training$CashOrdersReceived <- ifelse(df_training$CashOrdersReceived=='-',0, df_training$CashOrdersReceived)
df_training$CashBalance_StartOfDay <- ifelse(df_training$CashBalance_StartOfDay=='-',0, df_training$CashBalance_StartOfDay)
df_training$TotalCashUsed <- ifelse(df_training$TotalCashUsed=='-',0, df_training$TotalCashUsed)

glimpse(df_training)
```



```{r}

# Changing character to numeric


df_training$TotalCashUsed %<>%
  gsub(",","",.) %>%
  gsub("\\(","-",.) %>%
  gsub("\\)","",.)

df_training$CashOrdersReceived %<>%
  gsub(",","",.) %>%
  gsub("\\(","-",.) %>%
  gsub("\\)","",.)

df_training$BusinessDate <- as.Date(df_training$BusinessDate, '%m/%d/%Y')
df_training$TotalCashUsed <- as.numeric(df_training$TotalCashUsed)
df_training$CashOrdersReceived <- as.numeric(df_training$CashOrdersReceived)
df_training$BranchID <- as.factor(df_training$BranchID)

glimpse(df_training)




```
```{r}
summary(df_training)
```

```{r}
# nrow and ncol

nrow(df_training)
ncol(df_training)
```


# EXPLORATORY DATA ANALYSIS

